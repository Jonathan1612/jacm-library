/* Slider Component Styles */
.container {
  --slider-color: var(--color-primary, #007bff);
  --track-color: var(--color-border, #dee2e6);
  --thumb-size: 20px;
  --track-height: 4px;
  
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
}

.container.vertical {
  flex-direction: column;
  height: 200px;
  width: auto;
}

/* Tamaños */
.small {
  --thumb-size: 16px;
  --track-height: 3px;
}

.small.vertical {
  height: 150px;
}

.medium {
  --thumb-size: 20px;
  --track-height: 4px;
}

.medium.vertical {
  height: 200px;
}

.large {
  --thumb-size: 24px;
  --track-height: 6px;
}

.large.vertical {
  height: 250px;
}

/* Colores */
.primary {
  --slider-color: var(--color-primary, #007bff);
}

.secondary {
  --slider-color: var(--color-secondary, #6c757d);
}

.success {
  --slider-color: var(--color-success, #28a745);
}

.warning {
  --slider-color: var(--color-warning, #ffc107);
}

.error {
  --slider-color: var(--color-error, #dc3545);
}

/* Wrapper del slider */
.sliderWrapper {
  position: relative;
  flex: 1;
  display: flex;
  align-items: center;
}

.vertical .sliderWrapper {
  height: 100%;
  width: var(--track-height);
  flex-direction: column;
  justify-content: center;
}

/* Input range oculto */
.input {
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: 0;
  cursor: pointer;
  z-index: 2;
  margin: 0;
  padding: 0;
}

.input:focus {
  outline: none;
}

.input:disabled {
  cursor: not-allowed;
}

.vertical .input {
  transform: rotate(-90deg);
  transform-origin: center;
}

/* Track */
.track {
  position: relative;
  width: 100%;
  height: var(--track-height);
  border-radius: calc(var(--track-height) / 2);
  background: var(--track-color);
  overflow: hidden;
}

.vertical .track {
  width: var(--track-height);
  height: 100%;
}

/* Thumb */
.thumb {
  position: absolute;
  width: var(--thumb-size);
  height: var(--thumb-size);
  background: var(--slider-color);
  border: 2px solid white;
  border-radius: 50%;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  transform: translate(-50%, -50%);
  top: 50%;
  transition: all 0.2s ease-in-out;
  pointer-events: none;
  z-index: 1;
}

.vertical .thumb {
  left: 50%;
  transform: translate(-50%, 50%);
}

.thumbActive {
  transform: translate(-50%, -50%) scale(1.2);
  box-shadow: 0 0 0 8px rgba(0, 123, 255, 0.1);
}

.vertical .thumbActive {
  transform: translate(-50%, 50%) scale(1.2);
}

/* Tooltip */
.tooltip {
  position: absolute;
  bottom: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
  background: var(--color-text, #212529);
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  white-space: nowrap;
  opacity: 0;
  transition: opacity 0.2s ease-in-out;
  pointer-events: none;
  z-index: 10;
}

.tooltip::after {
  content: '';
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  border: 4px solid transparent;
  border-top-color: var(--color-text, #212529);
}

.vertical .tooltip {
  bottom: auto;
  right: calc(100% + 8px);
  left: auto;
  top: 50%;
  transform: translateY(-50%);
}

.vertical .tooltip::after {
  top: 50%;
  left: 100%;
  right: auto;
  transform: translateY(-50%);
  border: 4px solid transparent;
  border-left-color: var(--color-text, #212529);
  border-top-color: transparent;
}

.dragging .tooltip,
.input:focus ~ .track .tooltip {
  opacity: 1;
}

/* Marcas */
.marks {
  position: absolute;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.vertical .marks {
  width: 100%;
  height: 100%;
}

.mark {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  transform: translateX(-50%);
}

.vertical .mark {
  flex-direction: row;
  align-items: center;
  transform: translateY(50%);
  left: auto;
  right: calc(100% + 8px);
}

.markDot {
  width: 6px;
  height: 6px;
  background: var(--color-border, #dee2e6);
  border-radius: 50%;
  margin-bottom: 4px;
}

.vertical .markDot {
  margin-bottom: 0;
  margin-right: 4px;
}

.markLabel {
  font-size: 11px;
  color: var(--color-text-secondary, #6c757d);
  white-space: nowrap;
  user-select: none;
}

/* Display del valor */
.valueDisplay {
  font-size: 14px;
  font-weight: 500;
  color: var(--color-text, #212529);
  min-width: 32px;
  text-align: center;
  user-select: none;
}

.small .valueDisplay {
  font-size: 12px;
  min-width: 28px;
}

.large .valueDisplay {
  font-size: 16px;
  min-width: 36px;
}

/* Estados */
.disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.disabled .input {
  cursor: not-allowed;
}

.disabled .thumb {
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.disabled .thumbActive {
  transform: translate(-50%, -50%);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.disabled.vertical .thumbActive {
  transform: translate(-50%, 50%);
}

/* Hover effects */
.container:hover:not(.disabled) .thumb {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.input:focus ~ .track .thumb {
  box-shadow: 0 0 0 8px rgba(0, 123, 255, 0.2);
}

/* Modo oscuro */
:global(html.dark) .container {
  --track-color: var(--color-border, #4a5568);
}

:global(html.dark) .thumb {
  border-color: var(--color-surface, #2d3748);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
}

:global(html.dark) .tooltip {
  background: var(--color-surface, #2d3748);
  color: var(--color-text, #f7fafc);
}

:global(html.dark) .tooltip::after {
  border-top-color: var(--color-surface, #2d3748);
}

:global(html.dark) .vertical .tooltip::after {
  border-left-color: var(--color-surface, #2d3748);
}

:global(html.dark) .markDot {
  background: var(--color-border, #4a5568);
}

:global(html.dark) .markLabel {
  color: var(--color-text-secondary, #a0aec0);
}

:global(html.dark) .valueDisplay {
  color: var(--color-text, #f7fafc);
}

/* Accesibilidad */
@media (prefers-reduced-motion: reduce) {
  .thumb,
  .tooltip,
  .thumbActive {
    transition: none;
  }
}

/* Responsive */
@media (max-width: 768px) {
  .large {
    --thumb-size: 22px;
    --track-height: 5px;
  }
  
  .medium {
    --thumb-size: 18px;
    --track-height: 4px;
  }
  
  .container {
    gap: 8px;
  }
  
  .tooltip {
    font-size: 11px;
    padding: 3px 6px;
  }
}

/* Estados específicos de color */
.primary .thumbActive {
  box-shadow: 0 0 0 8px rgba(0, 123, 255, 0.2);
}

.secondary .thumbActive {
  box-shadow: 0 0 0 8px rgba(108, 117, 125, 0.2);
}

.success .thumbActive {
  box-shadow: 0 0 0 8px rgba(40, 167, 69, 0.2);
}

.warning .thumbActive {
  box-shadow: 0 0 0 8px rgba(255, 193, 7, 0.2);
}

.error .thumbActive {
  box-shadow: 0 0 0 8px rgba(220, 53, 69, 0.2);
}
